extends base

block title
  title= titlecase(page.title) + " - Coluna - Brasil de Fato"

block open_graph
  include _partial/open_graph_page

append content
  main.grid-3-columns
    - var published_at = utc_to_brt(page.date)
    - var columnist = site.data.columnists[page.columnist]
    article#column(itemscope, itemtype="http://schema.org/BlogPosting")
      span.hat Coluna
      .column-header
        h2.title(itemprop="headline")= page.title
        .person(itemscope, itemtype="http://schema.org/Person")
          img.profile-image(itemprop="image", alt="Imagem de perfil do Colunista", src=columnist.photo )
          .name-and-time
            span.name(itemprop="name")= columnist.name
            time(datetime=published_at.toISOString())= full_date(published_at)
      meta(itemprop="datePublished", content=published_at)
      meta(itemprop="image", content='http:'+columnist.photo)
      if page.cover
        figure(itemprop="image", itemscope, itemtype="http://schema.org/ImageObject")
          - var imageCaption = page.cover.subtitle + ' / ' + page.cover.credits
          - var imageDescription = page.cover.subtitle + ' - Cr√©ditos: ' + page.cover.credits
          img(itemprop="thumbnail", alt=imageDescription, title=imageDescription, src=page.cover['medium'] )
          figcaption(itemprop="caption")= imageCaption
      .content
        blockquote.description(itemprop="description")= page.description
        != page.content
